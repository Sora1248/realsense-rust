[package]
authors = ["jerry73204 <jerry73204@gmail.com>", "Brandon Minor <brandon@tangramvision.com>"]
description = "Rust abstraction layer for the RealSense SDK C library"
documentation = "https://docs.rs/realsense-sys/"
edition = "2018"
homepage = "https://github.com/Tangram-Vision/realsense-rust"
license = "Apache-2.0"
name = "realsense-sys"
repository = "https://github.com/Tangram-Vision/realsense-rust"
version = "0.3.0"

[features]
# default
# - The default build. This uses RealSense v0.39 bindings, generated by bindgen
#   and imported into src/ via realsense-sys/bindings.
default = []
# buildtime-bindgen
# - This activates bindgen during build time to rebuild the generated intel
#   bindings based off of the RealSense version that you are using. Running this
#   feature is recommended if you're not on the latest version of the RealSense
#   driver.
buildtime-bindgen = ["bindgen"]
# no-realsense-lib
# - This avoids calling the build script in realsense-sys. The build script's
#   original behavior would be to find librealsense, link, and generate
#   the bindings (if buildtime-bindgen is set). `no-realsense-lib` bypasses all
#   of that with an early return. Tests _will fail_ as a result.
no-realsense-lib = []

[dependencies]
# None required. However, access to the RealSense library is necessary.

[build-dependencies]
anyhow = "1.0"
bindgen = {version = "0.57", optional = true}
cc = {version = "1.0", features = ["parallel"]}
lazy_static = "1.4"

[target.'cfg(not(target_env = "msvc"))'.build-dependencies]
pkg-config = {version = "0.3"}

[target.'cfg(target_env = "msvc")'.build-dependencies]
vcpkg = {version = "0.2"}

# Customizations to Docs.rs
# https://docs.rs/about/metadata
[package.metadata.docs.rs]
features = ["no-realsense-lib"]
